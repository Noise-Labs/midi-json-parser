// tslint:disable-next-line:max-line-length
export const worker = `!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);addEventListener("message",function(e){var t=e.data;try{if("parse"!==t.method)throw new Error('The given method "'+t.method+'" is not supported');var n=t.id,i=t.params.arrayBuffer,o=Object(r.a)(i);postMessage({error:null,id:n,result:{midiFile:o}})}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),i=n(3),o=function(e){for(var t=new DataView(e),n=f(t),r=14,i=[],o=0,a=n.numberOfTracks;o<a;o+=1){var s=void 0,u=l(t,r);r=u.offset,s=u.track,i.push(s)}return{division:n.division,format:n.format,tracks:i}},a=function(e,t,n){var r=void 0,i=g(e,t),o=i.offset,a=i.value,f=e.getUint8(o);return r=240===f?c(e,o+1):255===f?s(e,o+1):u(f,e,o+1,n),r.event.delta=a,r},f=function(e){if("MThd"!==Object(i.a)(e,0,4))throw new Error('Unexpected characters "'+Object(i.a)(e,0,4)+'" found instead of "MThd"');if(6!==e.getUint32(4))throw new Error("The header has an unexpected length of "+e.getUint32(4)+" instead of 6");var t=e.getUint16(8),n=e.getUint16(10);return{division:e.getUint16(12),format:t,numberOfTracks:n}},s=function(e,t){var n=void 0,r=e.getUint8(t),o=g(e,t+1),a=o.offset,f=o.value;if(1===r)n={text:Object(i.a)(e,a,f)};else if(3===r)n={trackName:Object(i.a)(e,a,f)};else if(5===r)n={lyric:Object(i.a)(e,a,f)};else if(32===r)n={channelPrefix:e.getUint8(a)};else if(33===r)n={midiPort:e.getUint8(a)};else if(47===r)n={endOfTrack:!0};else if(81===r)n={setTempo:{microsecondsPerBeat:(e.getUint8(a)<<16)+(e.getUint8(a+1)<<8)+e.getUint8(a+2)}};else if(84===r){var s=void 0,u=e.getUint8(a);0==(96&u)?s=24:32==(96&u)?s=25:64==(96&u)?s=29:96==(96&u)&&(s=30),n={smpteOffset:{frame:e.getUint8(a+3),frameRate:s,hour:31&u,minutes:e.getUint8(a+1),seconds:e.getUint8(a+2),subFrame:e.getUint8(a+4)}}}else if(88===r)n={timeSignature:{denominator:Math.pow(2,e.getUint8(a+1)),metronome:e.getUint8(a+2),numerator:e.getUint8(a),thirtyseconds:e.getUint8(a+3)}};else{if(89!==r)throw new Error('Cannot parse a meta event with a type of "'+r.toString(16)+'"');n={keySignature:{key:e.getInt8(a),scale:e.getInt8(a+1)}}}return{event:n,offset:a+f}},u=function(e,t,n,r){var i=e>>4,o=0==(128&e)?r:null,a=void 0,f=0==(128&e)?n-1:n;if(8===i||null!==o&&"noteOff"in o)a={noteOff:{noteNumber:t.getUint8(f),velocity:t.getUint8(f+1)}},f+=2;else if(9===i||null!==o&&"noteOn"in o){var s=t.getUint8(f),u=t.getUint8(f+1);a=0===u?{noteOff:{noteNumber:s,velocity:u}}:{noteOn:{noteNumber:s,velocity:u}},f+=2}else if(11===i||null!==o&&"controlChange"in o)a={controlChange:{type:t.getUint8(f),value:t.getUint8(f+1)}},f+=2;else if(12===i||null!==o&&"programChange"in o)a={programChange:{programNumber:t.getUint8(f)}},f+=1;else{if(!(14===i||null!==o&&"pitchBend"in o))throw new Error('Cannot parse a midi event with a type of "'+i.toString(16)+'"');a={pitchBend:t.getUint8(f)|t.getUint8(f+1)<<7},f+=2}return a.channel=15&e,{event:a,offset:f}},c=function(e,t){var n=g(e,t),i=n.offset,o=n.value;return{event:{sysex:Object(r.a)(e,i,o)},offset:i+o}},l=function(e,t){if("MTrk"!==Object(i.a)(e,t,4))throw new Error('Unexpected characters "'+Object(i.a)(e,t,4)+'" found instead of "MTrk"');for(var n=[],r=e.getUint32(t+4)+t+8,o=null,f=t+8;f<r;){var s=a(e,f,o);o=s.event,f=s.offset,n.push(o)}return{offset:f,track:n}},g=function(e,t){for(var n=t,r=0;;){var i=e.getUint8(n);if(n+=1,!(i>127))return r+=i,{offset:n,value:r};r+=127&i,r<<=7}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset),r=t+e.byteOffset,i=[],o=new Uint8Array(e.buffer,r,n),a=0;a<n;a+=1){var f=o[a].toString(16).toUpperCase();1===f.length&&(f=0+f),i[a]=f}return i.join("")}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset),r=t+e.byteOffset,i=new Uint8Array(e.buffer,r,n);return String.fromCharCode.apply(null,i)}}]);`;
