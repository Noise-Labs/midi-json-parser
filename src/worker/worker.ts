// tslint:disable-next-line:max-line-length
export const worker = `!function(r){var e={};function n(o){if(e[o])return e[o].exports;var t=e[o]={i:o,l:!1,exports:{}};return r[o].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=r,n.c=e,n.d=function(r,e,o){n.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:o})},n.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,e){if(1&e&&(r=n(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var t in r)n.d(o,t,function(e){return r[e]}.bind(null,t));return o},n.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(e,"a",e),e},n.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},n.p="",n(n.s=8)}([function(r,e,n){!function(r,e,n,o){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n,o=o&&o.hasOwnProperty("default")?o.default:o;var t=function(r,e){return void 0===e?r:e.reduce(function(r,e){if("capitalize"===e){var t=r.charAt(0).toUpperCase(),c=r.slice(1);return"".concat(t).concat(c)}return"dashify"===e?n(r):"prependIndefiniteArticle"===e?"".concat(o(r)," ").concat(r):r},r)},c=function(r,n){for(var o=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,c=[],u=o.exec(r);null!==u;){var i={modifiers:[],name:u[1]};if(void 0!==u[3])for(var l=/\\.[^(]+\\(\\)/g,s=l.exec(u[2]);null!==s;)i.modifiers.push(s[0].slice(1,-2)),s=l.exec(u[2]);c.push(i),u=o.exec(r)}var a=c.reduce(function(r,o){return r.map(function(r){return"string"==typeof r?r.split(function(r){var e=r.name+r.modifiers.map(function(r){return"\\\\.".concat(r,"\\\\(\\\\)")}).join("");return new RegExp("\\\\$\\\\{".concat(e,"}"),"g")}(o)).reduce(function(r,c,u){return 0===u?[c]:o.name in n?[].concat(e(r),[t(n[o.name],o.modifiers),c]):[].concat(e(r),[function(r){return t(r[o.name],o.modifiers)},c])},[]):[r]}).reduce(function(r,n){return[].concat(e(r),e(n))},[])},[r]);return function(r){return a.reduce(function(n,o){return[].concat(e(n),"string"==typeof o?[o]:[o(r)])},[]).join("")}};r.compile=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0===r.code?void 0:c(r.code,e),o=void 0===r.message?void 0:c(r.message,e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,c=void 0===t&&(e instanceof Error||void 0!==e.code&&"Exception"===e.code.slice(-9))?{cause:e,missingParameters:{}}:{cause:t,missingParameters:e},u=c.cause,i=c.missingParameters,l=void 0===o?new Error:new Error(o(i));return null!==u&&(l.cause=u),void 0!==n&&(l.code=n(i)),void 0!==r.status&&(l.status=r.status),l}},Object.defineProperty(r,"__esModule",{value:!0})}(e,n(2),n(6),n(7))},function(r,e,n){!function(r){"use strict";var e=new WeakMap,n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=function(r,n){return e.set(r,n),n},t=function(r){var t=e.get(r),c=void 0===t?r.size:t>2147483648?0:t+1;if(!r.has(c))return o(r,c);if(r.size<1073741824){for(;r.has(c);)c=Math.floor(2147483648*Math.random());return o(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return o(r,c)};r.addUniqueNumber=function(r){var e=t(r);return r.add(e),e},r.generateUniqueNumber=t,Object.defineProperty(r,"__esModule",{value:!0})}(e)},function(r,e,n){var o=n(3),t=n(4),c=n(5);r.exports=function(r){return o(r)||t(r)||c()}},function(r,e){r.exports=function(r){if(Array.isArray(r)){for(var e=0,n=new Array(r.length);e<r.length;e++)n[e]=r[e];return n}}},function(r,e){r.exports=function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}},function(r,e){r.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(r,e,n){"use strict";r.exports=((r,e)=>{if("string"!=typeof r)throw new TypeError("expected a string");return r.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,r=>/[À-ž]/.test(r)?r:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,r=>e&&e.condense?"-":r).toLowerCase()})},function(r,e,n){var o=function(r){var e,n,o=/\\w+/.exec(r);if(!o)return"an";var t=(n=o[0]).toLowerCase(),c=["honest","hour","hono"];for(e in c)if(0==t.indexOf(c[e]))return"an";if(1==t.length)return"aedhilmnorsx".indexOf(t)>=0?"an":"a";if(n.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var u=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(e=0;e<u.length;e++)if(t.match(u[e]))return"a";return n.match(/^U[NK][AIEO]/)?"a":n==n.toUpperCase()?"aedhilmnorsx".indexOf(t[0])>=0?"an":"a":"aeiou".indexOf(t[0])>=0?"an":t.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==r.exports?r.exports=o:window.indefiniteArticle=o},function(r,e,n){"use strict";n.r(e);var o=n(0);const t=-32603,c=-32602,u=-32601,i=Object(o.compile)({message:'The requested method called "\${method}" is not supported.',status:u}),l=Object(o.compile)({message:'The handler of the method called "\${method}" returned no required result.',status:t}),s=Object(o.compile)({message:'The handler of the method called "\${method}" returned an unexpected result.',status:t}),a=Object(o.compile)({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:c});var p=n(1);const g=new Map,m=(r,e,n)=>Object.assign({},e,{connect:n=>{let o=n.port;o.start();const t=r(o,e),c=Object(p.generateUniqueNumber)(g);return g.set(c,()=>{t(),o.close(),g.delete(c)}),{result:c}},disconnect:r=>{let e=r.portId;const n=g.get(e);if(void 0===n)throw a({portId:e.toString()});return n(),{result:null}},isSupported:async()=>{if(await(()=>new Promise(r=>{const e=new ArrayBuffer(0),n=new MessageChannel,o=n.port1,t=n.port2;o.onmessage=(e=>{let n=e.data;return r(null!==n)}),t.postMessage(e,[e])}))()){const r=n();return{result:r instanceof Promise?await r:r}}return{result:!1}}}),d=function(r){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.byteLength-(e-r.byteOffset);const o=e+r.byteOffset,t=[],c=new Uint8Array(r.buffer,o,n);for(let r=0;r<n;r+=1){let e=c[r].toString(16).toUpperCase();1===e.length&&(e=0+e),t[r]=e}return t.join("")},f=function(r){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.byteLength-(e-r.byteOffset);const o=e+r.byteOffset,t=new Uint8Array(r.buffer,o,n);return String.fromCharCode.apply(null,t)},h=(r,e,n)=>{let o;const t=j(r,e),c=t.offset,u=t.value,i=r.getUint8(c);return(o=240===i?y(r,c+1):255===i?b(r,c+1):U(i,r,c+1,n)).event.delta=u,o},v=r=>{if("MThd"!==f(r,0,4))throw new Error('Unexpected characters "'.concat(f(r,0,4),'" found instead of "MThd"'));if(6!==r.getUint32(4))throw new Error("The header has an unexpected length of ".concat(r.getUint32(4)," instead of 6"));const e=r.getUint16(8),n=r.getUint16(10);return{division:r.getUint16(12),format:e,numberOfTracks:n}},b=(r,e)=>{let n;const o=r.getUint8(e),t=j(r,e+1),c=t.offset,u=t.value;if(1===o)n={text:f(r,c,u)};else if(3===o)n={trackName:f(r,c,u)};else if(5===o)n={lyric:f(r,c,u)};else if(32===o)n={channelPrefix:r.getUint8(c)};else if(33===o)n={midiPort:r.getUint8(c)};else if(47===o)n={endOfTrack:!0};else if(81===o)n={setTempo:{microsecondsPerBeat:(r.getUint8(c)<<16)+(r.getUint8(c+1)<<8)+r.getUint8(c+2)}};else if(84===o){let e;const o=r.getUint8(c);0==(96&o)?e=24:32==(96&o)?e=25:64==(96&o)?e=29:96==(96&o)&&(e=30),n={smpteOffset:{frame:r.getUint8(c+3),frameRate:e,hour:31&o,minutes:r.getUint8(c+1),seconds:r.getUint8(c+2),subFrame:r.getUint8(c+4)}}}else if(88===o)n={timeSignature:{denominator:Math.pow(2,r.getUint8(c+1)),metronome:r.getUint8(c+2),numerator:r.getUint8(c),thirtyseconds:r.getUint8(c+3)}};else{if(89!==o)throw new Error('Cannot parse a meta event with a type of "'.concat(o.toString(16),'"'));n={keySignature:{key:r.getInt8(c),scale:r.getInt8(c+1)}}}return{event:n,offset:c+u}},U=(r,e,n,o)=>{const t=r>>4,c=0==(128&r)?o:null;let u,i=0==(128&r)?n-1:n;if(8===t||null!==c&&"noteOff"in c)u={noteOff:{noteNumber:e.getUint8(i),velocity:e.getUint8(i+1)}},i+=2;else if(9===t||null!==c&&"noteOn"in c){const r=e.getUint8(i),n=e.getUint8(i+1);u=0===n?{noteOff:{noteNumber:r,velocity:n}}:{noteOn:{noteNumber:r,velocity:n}},i+=2}else if(11===t||null!==c&&"controlChange"in c)u={controlChange:{type:e.getUint8(i),value:e.getUint8(i+1)}},i+=2;else if(12===t||null!==c&&"programChange"in c)u={programChange:{programNumber:e.getUint8(i)}},i+=1;else{if(!(14===t||null!==c&&"pitchBend"in c))throw new Error('Cannot parse a midi event with a type of "'.concat(t.toString(16),'"'));u={pitchBend:e.getUint8(i)|e.getUint8(i+1)<<7},i+=2}return u.channel=15&r,{event:u,offset:i}},y=(r,e)=>{const n=j(r,e),o=n.offset,t=n.value;return{event:{sysex:d(r,o,t)},offset:o+t}},M=(r,e)=>{if("MTrk"!==f(r,e,4))throw new Error('Unexpected characters "'.concat(f(r,e,4),'" found instead of "MTrk"'));const n=[],o=r.getUint32(e+4)+e+8;let t=null,c=e+8;for(;c<o;){var u=h(r,c,t);t=u.event,c=u.offset,n.push(t)}return{offset:c,track:n}},j=(r,e)=>{let n=e,o=0;for(;;){const e=r.getUint8(n);if(n+=1,!(e>127))return{offset:n,value:o+=e};o+=127&e,o<<=7}};!function r(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const t=m(r,n,o),c=((r,e)=>async n=>{let o=n.data,t=o.id,c=o.method,u=o.params;const a=e[c];try{if(void 0===a)throw i({method:c});const e=void 0===u?a():a(u);if(void 0===e)throw l({method:c});const n=e instanceof Promise?await e:e;if(null===t){if(void 0!==n.result)throw s({method:c})}else{if(void 0===n.result)throw s({method:c});const e=n.result,o=n.transferables,u=void 0===o?[]:o;r.postMessage({id:t,result:e},u)}}catch(e){const n=e.message,o=e.status,c=void 0===o?-32603:o;r.postMessage({error:{code:c,message:n},id:t})}})(e,t);return e.addEventListener("message",c),()=>e.removeEventListener("message",c)}(self,{parse:r=>{return{result:(r=>{const e=new DataView(r),n=v(e);let o=14;const t=[];for(let r=0,u=n.numberOfTracks;r<u;r+=1){let r;var c=M(e,o);o=c.offset,r=c.track,t.push(r)}return{division:n.division,format:n.format,tracks:t}})(r.arrayBuffer)}}})}]);`;
