// tslint:disable-next-line:max-line-length
export const worker = `!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);addEventListener("message",function(e){var t=e.data;try{if("parse"!==t.method)throw new Error('The given method "'+t.method+'" is not supported');var n=t.id,i=t.params.arrayBuffer,o=Object(r.a)(i);postMessage({error:null,id:n,result:{midiFile:o}})}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),i=n(3),o=function(e){for(var t=new DataView(e),n=f(t),r=14,i=[],o=0,a=n.numberOfTracks;o<a;o+=1){var s=void 0,u=l(t,r);r=u.offset,s=u.track,i.push(s)}return{division:n.division,format:n.format,tracks:i}},a=function(e,t,n){var r=void 0,i=void 0,o=g(e,t);t=o.offset,r=o.value;var a=e.getUint8(t);return i=240===a?c(e,t+1):255===a?s(e,t+1):u(a,e,t+1,n),i.event.delta=r,i},f=function(e){if("MThd"!==Object(i.a)(e,0,4))throw new Error('Unexpected characters "'+Object(i.a)(e,0,4)+'" found instead of "MThd"');if(6!==e.getUint32(4))throw new Error("The header has an unexpected length of "+e.getUint32(4)+" instead of 6");var t=e.getUint16(8),n=e.getUint16(10);return{division:e.getUint16(12),format:t,numberOfTracks:n}},s=function(e,t){var n=void 0,r=void 0,o=e.getUint8(t),a=g(e,t+1);if(t=a.offset,r=a.value,3===o)n={trackName:Object(i.a)(e,t,r)};else if(32===o)n={channelPrefix:e.getUint8(t)};else if(33===o)n={midiPort:e.getUint8(t)};else if(47===o)n={endOfTrack:!0};else if(81===o)n={setTempo:{microsecondsPerBeat:(e.getUint8(t)<<16)+(e.getUint8(t+1)<<8)+e.getUint8(t+2)}};else if(84===o){var f=void 0,s=e.getUint8(t);0==(96&s)?f=24:32==(96&s)?f=25:64==(96&s)?f=29:96==(96&s)&&(f=30),n={smpteOffset:{frame:e.getUint8(t+3),frameRate:f,hour:31&s,minutes:e.getUint8(t+1),seconds:e.getUint8(t+2),subFrame:e.getUint8(t+4)}}}else if(88===o)n={timeSignature:{denominator:Math.pow(2,e.getUint8(t+1)),metronome:e.getUint8(t+2),numerator:e.getUint8(t),thirtyseconds:e.getUint8(t+3)}};else{if(89!==o)throw new Error('Cannot parse a meta event with a type of "'+o.toString(16)+'"');n={keySignature:{key:e.getInt8(t),scale:e.getInt8(t+1)}}}return{event:n,offset:t+r}},u=function(e,t,n,r){var i=void 0,o=e>>4;if(0==(128&e)?n-=1:r=null,8===o||null!==r&&"noteOff"in r)i={noteOff:{noteNumber:t.getUint8(n),velocity:t.getUint8(n+1)}},n+=2;else if(9===o||null!==r&&"noteOn"in r){var a=t.getUint8(n),f=t.getUint8(n+1);i=0===f?{noteOff:{noteNumber:a,velocity:f}}:{noteOn:{noteNumber:a,velocity:f}},n+=2}else if(11===o||null!==r&&"controlChange"in r)i={controlChange:{type:t.getUint8(n),value:t.getUint8(n+1)}},n+=2;else if(12===o||null!==r&&"programChange"in r)i={programChange:{programNumber:t.getUint8(n)}},n+=1;else{if(!(14===o||null!==r&&"pitchBend"in r))throw new Error('Cannot parse a midi event with a type of "'+o.toString(16)+'"');i={pitchBend:t.getUint8(n)|t.getUint8(n+1)<<7},n+=2}return i.channel=15&e,{event:i,offset:n}},c=function(e,t){var n=void 0,i=g(e,t);return t=i.offset,n=i.value,{event:{sysex:Object(r.a)(e,t,n)},offset:t+n}},l=function(e,t){if("MTrk"!==Object(i.a)(e,t,4))throw new Error('Unexpected characters "'+Object(i.a)(e,t,4)+'" found instead of "MTrk"');var n=null,r=[],o=e.getUint32(t+4)+t+8;for(t+=8;t<o;){var f=a(e,t,n);n=f.event,t=f.offset,r.push(n)}return{offset:t,track:r}},g=function(e,t){for(var n=0;;){var r=e.getUint8(t);if(t+=1,!(r>127))return n+=r,{offset:t,value:n};n+=127&r,n<<=7}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset),r=t+e.byteOffset,i=[],o=new Uint8Array(e.buffer,r,n),a=0;a<n;a+=1){var f=o[a].toString(16).toUpperCase();1===f.length&&(f=0+f),i[a]=f}return i.join("")}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength-(t-e.byteOffset),r=t+e.byteOffset,i=new Uint8Array(e.buffer,r,n);return String.fromCharCode.apply(null,i)}}]);`;
